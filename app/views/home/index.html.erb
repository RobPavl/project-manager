<h2 class="text-center">Todo lists</h2>

<div class="container" ng-app='todoList'>
  <div class="row">
    <div class="col-md-2">
      <button type="button" class="btn btn-success">
        <span class="glyphicon glyphicon-plus"></span> Add new project
      </button>
    </div>
    <div class="col-md-9" ng-controller='ProjectCtrl'>
      <div class="panel panel-primary" ng-repeat="project in projects">
        <div class="panel-heading" >
          <h3 class="panel-title">
            <span class="glyphicon glyphicon-tasks"></span> {{project.name}}
            <div class="pull-right">
              <button type="button" class="btn btn-primary btn-xs">
                <span class="glyphicon glyphicon-pencil"></span>
              </button>
              <button type="button" class="btn btn-primary btn-xs">
                <span class="glyphicon glyphicon-trash"></span>
              </button>
            </div>
          </h3>
        </div>
        <div ng-controller="TaskCtrl">
        <div class="slide-animate" ng-include="'assets/angular/views/createTask.html'"></div>
        <div class="panel-body">
          <div ng-repeat="task in tasks " >
            <div class="row"  >
              <div class="col-md-1"><input type="checkbox" ng-model='task.is_checked'></div>
              <div class="col-md-9">
                <p > {{task.body}}
                  <span class="badge pull-right">deadline at {{task.deadline}}</span>
                </p>
              </div>
              <div class="col-md-2">
                <button type="button" class="btn btn-default btn-xs pull-right"ng-click="showEdition(task.id, $index)">
                  <span class="glyphicon glyphicon-pencil"></span>
                </button>
                <button type="button" class="btn btn-default btn-xs pull-right">
                  <span class="glyphicon glyphicon-trash"></span>
                </button>
                <button type="button" class="btn btn-default btn-xs pull-right">
                  <span class="glyphicon glyphicon-signal"></span>
                </button>
                <button type="button" class="btn btn-default btn-xs pull-right" ng-click='showComment(task.id, $index)'>
                  <span class="glyphicon glyphicon-list-alt" ></span>
                </button>
              </div>
            </div>
            <div class="row">
              <div class="col-md-8">
                <div class="slide-animate" ng-include="'assets/angular/views/comment.html'"></div>
              </div>
              <div class="slide-animate" ng-include="'assets/angular/views/editTask.html'"></div>
            </div>
          </div>
        </div>
        </div>
      </div>
    </div>
  </div>
  <div class="col-md-1"></div>
</div>